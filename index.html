<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Situação Quadras</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>  
</head>
<style>
    * {
        padding: 0;
        box-sizing: border-box;
        margin: 0;
    }

    body {
        font-family: 'roboto';
        font-size: 2.2em;
        background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('tenis_art.png') center/cover no-repeat;
        min-height: 100vh;
        color: #fff;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        background-attachment: fixed;
        background-size: cover;
    }

    button {
        width: 100%;           /* Ocupa a linha toda */
        padding: 12px 20px;
        font-size: 18px;
        font-weight: 600;
        color: #fff;
        border: none;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(37, 117, 252, 0.4);
        cursor: pointer;
        transition: background 0.3s ease, box-shadow 0.3s ease;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    #baixar-img {
    background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
    }

    .btn_prev {
        font-size: 1.4em;
        background: linear-gradient(45deg, #f9d423, #00c6a7);
    }

    .btn_sem_prev {
        font-size: 1.4em;
         background: linear-gradient(45deg, #8b0000, #ff4d4d);
    }

    select {
  width: 100%;
  padding: 30px 20px;
  font-size: 16px;
  border: 2px solid #000;
  border-radius: 6px;
  background-color: white;
  color: #333;
  appearance: none;        /* Remove estilo padrão do navegador */
  background-image: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="gray"><polygon points="0,0 16,0 8,10"/></svg>');
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 12px;
  cursor: pointer;
  transition: border-color 0.3s ease;
  font-size: 2em;
}

    input[type="time"] {
        display: none;
    }

    .div-prev {
        padding: 10px;
        background-color: #eee;
        border: 1px solid #000;
        font-size: 1.4em;
        font-weight: bolder;
    }

    span {
        color: #000;
    }
</style>
<body>
    <canvas id="img-situacao" width="400" height="400" style="border: 1px solid #000; display: none;"></canvas>
  <br />
  <div>
    <div style="text-align: center;">
        <h1>Situação Quadras <br>DECN</h1>
    </div>
    <div style="padding: 10px;">
        <div>
            <label for="q_1">Quadra 1:</label>
            <select id="q_1">
                <option selected value="1">Liberada</option>
                <option value="0">Interditada</option>
                <option value="R">Ranking</option>
                <option value="A">Aula</option>
                <option value="T">Torneio</option>
            </select>  
            <div style="display: none;">
                <input type="time" id="ipt_prv_q_1">
                <br>
                <p class="div-prev"><span id="previsao_1">Sem Prev.</span></p>
                <br>
                <div style="display: flex;">
                    <div style="width: 60%; padding-right: 5px;">
                        <button class="btn_prev" id="btn_prv_q_1">Previsao Retorno</button>
                    </div>
                    <div style="width: 40%; padding-left: 5px;">
                        <button class="btn_sem_prev" style="background-color: linear-gradient(135deg, #00c6ff, #0072ff);">Sem Previsão</button>
                    </div>                    
                </div>
            </div>
        </div>
        <br/>
        <div>
            <label for="q_2">Quadra 2:</label>
            <select id="q_2">
                <option selected value="1">Liberada</option>
                <option value="0">Interditada</option>
                <option value="R">Ranking</option>
                <option value="A">Aula</option>
                <option value="T">Torneio</option>
            </select>  
            <div style="display: none;">
                <input type="time" id="ipt_prv_q_2">
                <br>
                <p class="div-prev"><span id="previsao_2">Sem Prev.</span></p>
                <br>
                <div style="display: flex;">
                    <div style="width: 60%; padding-right: 5px;">
                        <button class="btn_prev" id="btn_prv_q_2">Previsao Retorno</button>
                    </div>
                    <div style="width: 40%; padding-left: 5px;">
                        <button class="btn_sem_prev" style="background-color: linear-gradient(135deg, #00c6ff, #0072ff);">Sem Previsão</button>
                    </div>                    
                </div>
            </div>
        </div>
        <br/>
        <div>
            <label for="q_3">Quadra 3:</label>
            <select id="q_3">
                <option selected value="1">Liberada</option>
                <option value="0">Interditada</option>
                <option value="R">Ranking</option>
                <option value="A">Aula</option>
                <option value="T">Torneio</option>
            </select>  
            <div style="display: none;">
                <input type="time" id="ipt_prv_q_3">
                <br>
                <p class="div-prev"><span id="previsao_3">Sem Prev.</span></p>
                <br>
                <div style="display: flex;">
                    <div style="width: 60%; padding-right: 5px;">
                        <button class="btn_prev" id="btn_prv_q_3">Previsao Retorno</button>
                    </div>
                    <div style="width: 40%; padding-left: 5px;">
                        <button class="btn_sem_prev" style="background-color: linear-gradient(135deg, #00c6ff, #0072ff);">Sem Previsão</button>
                    </div>                    
                </div>
            </div>
        </div>
        <br/>
        <div>
            <label for="q_4">Quadra 4:</label>
            <select id="q_4">
                <option selected value="1">Liberada</option>
                <option value="0">Interditada</option>
                <option value="R">Ranking</option>
                <option value="A">Aula</option>
                <option value="T">Torneio</option>
            </select>  
            <div style="display: none;">
                <input type="time" id="ipt_prv_q_4">
                <br>
                <p class="div-prev"><span id="previsao_4">Sem Prev.</span></p>
                <br>
                <div style="display: flex;">
                    <div style="width: 60%; padding-right: 5px;">
                        <button class="btn_prev" id="btn_prv_q_4">Previsao Retorno</button>
                    </div>
                    <div style="width: 40%; padding-left: 5px;">
                        <button class="btn_sem_prev" style="background-color: linear-gradient(135deg, #00c6ff, #0072ff);">Sem Previsão</button>
                    </div>                    
                </div>
            </div>
        </div>
        <br/>
        <div>
            <label for="q_5">Quadra 5:</label>
            <select id="q_5">
                <option selected value="1">Liberada</option>
                <option value="0">Interditada</option>
                <option value="R">Ranking</option>
                <option value="A">Aula</option>
                <option value="T">Torneio</option>
            </select>  
            <div style="display: none;">
                <input type="time" id="ipt_prv_q_5">
                <br>
                <p class="div-prev"><span id="previsao_5">Sem Prev.</span></p>
                <br>
                <div style="display: flex;">
                    <div style="width: 60%; padding-right: 5px;">
                        <button class="btn_prev" id="btn_prv_q_5">Previsao Retorno</button>
                    </div>
                    <div style="width: 40%; padding-left: 5px;">
                        <button class="btn_sem_prev" style="background-color: linear-gradient(135deg, #00c6ff, #0072ff);">Sem Previsão</button>
                    </div>                    
                </div>
            </div>
        </div>
        <br/>
        <div>
            <label for="q_6">Quadra 6:</label>
            <select id="q_6">
                <option selected value="1">Liberada</option>
                <option value="0">Interditada</option>
                <option value="R">Ranking</option>
                <option value="A">Aula</option>
                <option value="T">Torneio</option>
            </select>  
            <div style="display: none;">
                <input type="time" id="ipt_prv_q_6">
                <br>
                <p class="div-prev"><span id="previsao_6">Sem Prev.</span></p>
                <br>
                <div style="display: flex;">
                    <div style="width: 60%; padding-right: 5px;">
                        <button class="btn_prev" id="btn_prv_q_6">Previsao Retorno</button>
                    </div>
                    <div style="width: 40%; padding-left: 5px;">
                        <button class="btn_sem_prev" style="background-color: linear-gradient(135deg, #00c6ff, #0072ff);">Sem Previsão</button>
                    </div>                    
                </div>
            </div>
        </div>
        <br/>
        <div>
            <label for="q_7">Quadra 7:</label>
            <select id="q_7">
                <option selected value="1">Liberada</option>
                <option value="0">Interditada</option>
                <option value="R">Ranking</option>
                <option value="A">Aula</option>
                <option value="T">Torneio</option>
            </select>  
            <div style="display: none;">
                <input type="time" id="ipt_prv_q_7">
                <br>
                <p class="div-prev"><span id="previsao_7">Sem Prev.</span></p>
                <br>
                <div style="display: flex;">
                    <div style="width: 60%; padding-right: 5px;">
                        <button class="btn_prev" id="btn_prv_q_7">Previsao Retorno</button>
                    </div>
                    <div style="width: 40%; padding-left: 5px;">
                        <button class="btn_sem_prev" style="background-color: linear-gradient(135deg, #00c6ff, #0072ff);">Sem Previsão</button>
                    </div>                    
                </div>
            </div>
        </div>
        <br/>
        <!-- <div>
            <button id="btn-previsao" style="font-size: 2em;">Previsão de retorno</button>
            <input type="time" style="display: none;" id="ipt-previsao">
        </div> -->
    </div>
    <div style="padding: 10px;">
      <button id="baixar-img" style="font-size: 2em;">Baixar Arte</button>
    </div>

</body>
  <script>
    const canvas = document.getElementById('img-situacao');
    const ctx = canvas.getContext('2d');

    document.addEventListener("DOMContentLoaded", function() {
    // Seu código JS aqui
    console.log("DOM totalmente carregado!");

    $(".btn_prv").on("click", function() {
        console.log($(this).parent().html());
        $(this).parent().find("span").text($(this).parent("input").val());    
    });

    $("input[type='time']").on("change", function() {
        // alert("qwe");
        let prev = ($(this).parent().parent().find("select").val() == '0' ? 'Prev. ' : '');
        $(this).parent().find("span").text(prev + $(this).val());
    })

    $(".btn_sem_prev").on("click", function() {
        $(this).parent().parent().parent().find("span").text("Sem Prev.");
        console.log($(this).parent().parent().parent().html());
    });

    $("select").on("change", function(e) {
        console.log($(this).val());
        console.log($(this).parent().find("div").html());
        if($(this).val() == 1) {
            $(this).parent().find("div").hide();
        } else {
            $(this).parent().find("div").show();
        }

        $(this).parent().find("span").text("Sem Prev.");
    })
         document.querySelector("#btn_prv_q_1").addEventListener("click", function() {
                document.querySelector("#ipt_prv_q_1").showPicker 
            ? document.querySelector("#ipt_prv_q_1").showPicker()  // Chrome e Edge suportam showPicker
            : document.querySelector("#ipt_prv_q_1").click();      // fallback pra abrir o seletor
        });

         document.querySelector("#btn_prv_q_2").addEventListener("click", function() {
                document.querySelector("#ipt_prv_q_2").showPicker 
            ? document.querySelector("#ipt_prv_q_2").showPicker()  // Chrome e Edge suportam showPicker
            : document.querySelector("#ipt_prv_q_2").click();      // fallback pra abrir o seletor
        });
       
         document.querySelector("#btn_prv_q_3").addEventListener("click", function() {
                document.querySelector("#ipt_prv_q_3").showPicker 
            ? document.querySelector("#ipt_prv_q_3").showPicker()  // Chrome e Edge suportam showPicker
            : document.querySelector("#ipt_prv_q_3").click();      // fallback pra abrir o seletor
        });
        
         document.querySelector("#btn_prv_q_4").addEventListener("click", function() {
                document.querySelector("#ipt_prv_q_4").showPicker 
            ? document.querySelector("#ipt_prv_q_4").showPicker()  // Chrome e Edge suportam showPicker
            : document.querySelector("#ipt_prv_q_4").click();      // fallback pra abrir o seletor
        });

         document.querySelector("#btn_prv_q_5").addEventListener("click", function() {
                document.querySelector("#ipt_prv_q_5").showPicker 
            ? document.querySelector("#ipt_prv_q_5").showPicker()  // Chrome e Edge suportam showPicker
            : document.querySelector("#ipt_prv_q_5").click();      // fallback pra abrir o seletor
        });
     
         document.querySelector("#btn_prv_q_6").addEventListener("click", function() {
                document.querySelector("#ipt_prv_q_6").showPicker 
            ? document.querySelector("#ipt_prv_q_6").showPicker()  // Chrome e Edge suportam showPicker
            : document.querySelector("#ipt_prv_q_6").click();      // fallback pra abrir o seletor
        });
       
         document.querySelector("#btn_prv_q_7").addEventListener("click", function() {
                document.querySelector("#ipt_prv_q_7").showPicker 
            ? document.querySelector("#ipt_prv_q_7").showPicker()  // Chrome e Edge suportam showPicker
            : document.querySelector("#ipt_prv_q_7").click();      // fallback pra abrir o seletor
        });
    });

    // document.querySelector("#btn-previsao").addEventListener("click", function() {
        
    //     document.querySelector("#ipt-previsao").showPicker 
    //   ? document.querySelector("#ipt-previsao").showPicker()  // Chrome e Edge suportam showPicker
    //   : document.querySelector("#ipt-previsao").click();      // fallback pra abrir o seletor
    // });

    function selecionaCores(t) {
        if(t == '1') {
            return '#1bb76e'; // verde
        } else if(t == '0') {
            return '#e63946'; // vermelho forte
        } else if(t == 'R') {
            return '#4361ee'; // azul royal
        } else if(t == 'A') {
            return '#8b4513'; // marrom
        } else if(t == 'T') {
            return '#ff8800'; // laranja queimado
        }
    }
  
    document.querySelector("#baixar-img").addEventListener('click', function() {

        let temValorX = Array.from(document.querySelectorAll('select'))
                     .some(select => select.value === 'x');

    // if(false) {
    if(temValorX) {
       alert("Falta!!!!"); 
    } else {

        
        const img = new Image();
        img.crossOrigin = "anonymous";  // importante para habilitar CORS
        img.src = 'https://i.imgur.com/fury7YM.png';
        
        img.onload = function() {
            // Desenha a imagem na posição (0,0) e ajusta para o tamanho do canvas
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
            
            // Configurações da sombra
            ctx.shadowColor = "black";
            ctx.shadowBlur = 4;
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            
            // Box 1
            let cor_1;
            let q_1 = document.querySelector("#q_1").value;
            // q_1 == "1" ? cor_1 = '#1bb76e' : cor_1 = 'red';
            cor_1 = selecionaCores(q_1);

            let x = 55; // distância da esquerda do canvas
            let y = 65; // distância do topo do canvas
            let width = 50;
            let height = 50;

            if(q_1 != '1') {
                height = height - 10
            }

            // Desenha o retângulo azul
            ctx.fillStyle = cor_1;
            ctx.fillRect(x, y, width, height);
            
            // Desenha o ícone "check" manualmente
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 5;
            ctx.lineCap = 'round';

        if(q_1 == "1") {
            ctx.beginPath();
            // Começa no canto inferior esquerdo do check
            ctx.moveTo(x + width * 0.2, y + height * 0.55);
            // Vai para o meio inferior
            ctx.lineTo(x + width * 0.45, y + height * 0.8);
            // Vai para o topo direito do check
            ctx.lineTo(x + width * 0.8, y + height * 0.3);
            
            ctx.stroke();
        } else if(q_1 == "0") {
            
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_1").text(), centerX, centerY);            

            ctx.beginPath();
            // Linha diagonal da esquerda superior para direita inferior
            ctx.moveTo(x + width * 0.2, y + height * 0.2);
            ctx.lineTo(x + width * 0.8, y + height * 0.8);
            
            // Linha diagonal da direita superior para esquerda inferior
            ctx.moveTo(x + width * 0.8, y + height * 0.2);
            ctx.lineTo(x + width * 0.2, y + height * 0.8);
            
            ctx.stroke();
        } else if(q_1 == "R") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_1").text(), centerX, centerY);            

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.4) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Rank.", x + width / 2, y + height / 2);

        } else if(q_1 == "A") {

            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_1").text(), centerX, centerY);            
            
            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.5) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Aula", x + width / 2, y + height / 2);
        } else if(q_1 == "T") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_1").text(), centerX, centerY);          

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.3) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Torn. 9", x + width / 2, y + height / 2);
        }
        
        // Box 2
        let q_2 = document.querySelector("#q_2").value;
        let cor_2 = selecionaCores(q_2);
        
        
        x = 185; // distância da esquerda do canvas
        y = 65; // distância do topo do canvas
        width = 50;
        height = 50;
        
        if(q_2 != '1') {
            height = height - 10
        }

        // Desenha o retângulo azul
        ctx.fillStyle = cor_2;
        ctx.fillRect(x, y, width, height);
        
        // Desenha o ícone "check" manualmente
        ctx.strokeStyle = 'white';
        ctx.lineWidth = 5;
        ctx.lineCap = 'round';
        
        if(q_2 == "1") { 
            ctx.beginPath();
            // Começa no canto inferior esquerdo do check
            ctx.moveTo(x + width * 0.2, y + height * 0.55);
            // Vai para o meio inferior
            ctx.lineTo(x + width * 0.45, y + height * 0.8);
            // Vai para o topo direito do check
            ctx.lineTo(x + width * 0.8, y + height * 0.3);
            
            ctx.stroke();
        }  else if(q_2 == "0") {
            
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_2").text(), centerX, centerY);            

            ctx.beginPath();
            // Linha diagonal da esquerda superior para direita inferior
            ctx.moveTo(x + width * 0.2, y + height * 0.2);
            ctx.lineTo(x + width * 0.8, y + height * 0.8);
            
            // Linha diagonal da direita superior para esquerda inferior
            ctx.moveTo(x + width * 0.8, y + height * 0.2);
            ctx.lineTo(x + width * 0.2, y + height * 0.8);
            
            ctx.stroke();
        } else if(q_2 == "R") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_2").text(), centerX, centerY);            

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.4) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Rank.", x + width / 2, y + height / 2);

        } else if(q_2 == "A") {

            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_2").text(), centerX, centerY);            
            
            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.5) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Aula", x + width / 2, y + height / 2);
        } else if(q_2 == "T") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_2").text(), centerX, centerY);          

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.3) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Torn. 9", x + width / 2, y + height / 2);
        }
        
        // Box 3
        let q_3 = document.querySelector("#q_3").value;
        let cor_3 = selecionaCores(q_3);
        
        x = 305; // distância da esquerda do canvas
        y = 65; // distância do topo do canvas
        width = 50;
        height = 50;

        if(q_3 != '1') {
            height = height - 10
        }
        
        // Desenha o retângulo azul
        ctx.fillStyle = cor_3;
        ctx.fillRect(x, y, width, height);
        
        // Desenha o ícone "check" manualmente
        ctx.strokeStyle = 'white';
        ctx.lineWidth = 5;
        ctx.lineCap = 'round';
        
        if(q_3 == "1") { 
            ctx.beginPath();
            // Começa no canto inferior esquerdo do check
            ctx.moveTo(x + width * 0.2, y + height * 0.55);
            // Vai para o meio inferior
            ctx.lineTo(x + width * 0.45, y + height * 0.8);
            // Vai para o topo direito do check
            ctx.lineTo(x + width * 0.8, y + height * 0.3);
            
            ctx.stroke();
        } else if(q_3 == "0") {
            
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_3").text(), centerX, centerY);            

            ctx.beginPath();
            // Linha diagonal da esquerda superior para direita inferior
            ctx.moveTo(x + width * 0.2, y + height * 0.2);
            ctx.lineTo(x + width * 0.8, y + height * 0.8);
            
            // Linha diagonal da direita superior para esquerda inferior
            ctx.moveTo(x + width * 0.8, y + height * 0.2);
            ctx.lineTo(x + width * 0.2, y + height * 0.8);
            
            ctx.stroke();
        } else if(q_3 == "R") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_3").text(), centerX, centerY);            

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.4) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Rank.", x + width / 2, y + height / 2);

        } else if(q_3 == "A") {

            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_3").text(), centerX, centerY);            
            
            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.5) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Aula", x + width / 2, y + height / 2);
        } else if(q_3 == "T") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_3").text(), centerX, centerY);          

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.3) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Torn. 9", x + width / 2, y + height / 2);
        }
        
        // Box 4
        let q_4 = document.querySelector("#q_4").value;
        let cor_4 = selecionaCores(q_4);
        
        x = 55; // distância da esquerda do canvas
        y = 205; // distância do topo do canvas
        width = 50;
        height = 50;
        
        if(q_4 != '1') {
            height = height - 10;
        }

        // Desenha o retângulo azul
        ctx.fillStyle = cor_4;
        ctx.fillRect(x, y, width, height);
        
        // Desenha o ícone "check" manualmente
        ctx.strokeStyle = 'white';
        ctx.lineWidth = 5;
        ctx.lineCap = 'round';
        
        if(q_4 == "1") { 
            ctx.beginPath();
            // Começa no canto inferior esquerdo do check
            ctx.moveTo(x + width * 0.2, y + height * 0.55);
            // Vai para o meio inferior
            ctx.lineTo(x + width * 0.45, y + height * 0.8);
            // Vai para o topo direito do check
            ctx.lineTo(x + width * 0.8, y + height * 0.3);
            
            ctx.stroke();
        } else if(q_4 == "0") {
            
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_4").text(), centerX, centerY);            

            ctx.beginPath();
            // Linha diagonal da esquerda superior para direita inferior
            ctx.moveTo(x + width * 0.2, y + height * 0.2);
            ctx.lineTo(x + width * 0.8, y + height * 0.8);
            
            // Linha diagonal da direita superior para esquerda inferior
            ctx.moveTo(x + width * 0.8, y + height * 0.2);
            ctx.lineTo(x + width * 0.2, y + height * 0.8);
            
            ctx.stroke();
        } else if(q_4 == "R") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_4").text(), centerX, centerY);            

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.4) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Rank.", x + width / 2, y + height / 2);

        } else if(q_4 == "A") {

            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_4").text(), centerX, centerY);            
            
            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.5) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Aula", x + width / 2, y + height / 2);
        } else if(q_4 == "T") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_4").text(), centerX, centerY);          

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.3) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Torn. 9", x + width / 2, y + height / 2);
        }
        
        // Box 5
        let q_5 = document.querySelector("#q_5").value;
        let cor_5 = selecionaCores(q_5);
        
        x = 185; // distância da esquerda do canvas
        y = 205; // distância do topo do canvas
        width = 50;
        height = 50;
        
        if(q_5 != '1') {
            height = height - 10;
        }

        // Desenha o retângulo azul
        ctx.fillStyle = cor_5;
        ctx.fillRect(x, y, width, height);
        
        // Desenha o ícone "check" manualmente
        ctx.strokeStyle = 'white';
        ctx.lineWidth = 5;
        ctx.lineCap = 'round';
        
        if(q_5 == "1") {  
            ctx.beginPath();
            // Começa no canto inferior esquerdo do check
            ctx.moveTo(x + width * 0.2, y + height * 0.55);
            // Vai para o meio inferior
            ctx.lineTo(x + width * 0.45, y + height * 0.8);
            // Vai para o topo direito do check
            ctx.lineTo(x + width * 0.8, y + height * 0.3);
            
            ctx.stroke();
        } else if(q_5 == "0") {
            
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_5").text(), centerX, centerY);            

            ctx.beginPath();
            // Linha diagonal da esquerda superior para direita inferior
            ctx.moveTo(x + width * 0.2, y + height * 0.2);
            ctx.lineTo(x + width * 0.8, y + height * 0.8);
            
            // Linha diagonal da direita superior para esquerda inferior
            ctx.moveTo(x + width * 0.8, y + height * 0.2);
            ctx.lineTo(x + width * 0.2, y + height * 0.8);
            
            ctx.stroke();
        } else if(q_5 == "R") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_5").text(), centerX, centerY);            

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.4) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Rank.", x + width / 2, y + height / 2);

        } else if(q_5 == "A") {

            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_5").text(), centerX, centerY);            
            
            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.5) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Aula", x + width / 2, y + height / 2);
        } else if(q_5 == "T") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_5").text(), centerX, centerY);          

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.3) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Torn. 9", x + width / 2, y + height / 2);
        }
        
        // Box 6
        let q_6 = document.querySelector("#q_6").value;
        let cor_6 = selecionaCores(q_6);
        
        x = 310; // distância da esquerda do canvas
        y = 208; // distância do topo do canvas
        width = 50;
        height = 50;
        
        if(q_6 != '1') {
            height = height - 10;
        }

        // Desenha o retângulo azul
        ctx.fillStyle = cor_6;
        ctx.fillRect(x, y, width, height);
        
        // Desenha o ícone "check" manualmente
        ctx.strokeStyle = 'white';
        ctx.lineWidth = 5;
        ctx.lineCap = 'round';
        
        if(q_6 == "1") {  
            ctx.beginPath();
            // Começa no canto inferior esquerdo do check
            ctx.moveTo(x + width * 0.2, y + height * 0.55);
            // Vai para o meio inferior
            ctx.lineTo(x + width * 0.45, y + height * 0.8);
            // Vai para o topo direito do check
            ctx.lineTo(x + width * 0.8, y + height * 0.3);
            
            ctx.stroke();
        } else if(q_6 == "0") {
            
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_6").text(), centerX, centerY);            

            ctx.beginPath();
            // Linha diagonal da esquerda superior para direita inferior
            ctx.moveTo(x + width * 0.2, y + height * 0.2);
            ctx.lineTo(x + width * 0.8, y + height * 0.8);
            
            // Linha diagonal da direita superior para esquerda inferior
            ctx.moveTo(x + width * 0.8, y + height * 0.2);
            ctx.lineTo(x + width * 0.2, y + height * 0.8);
            
            ctx.stroke();
        } else if(q_6 == "R") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_6").text(), centerX, centerY);            

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.4) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Rank.", x + width / 2, y + height / 2);

        } else if(q_6 == "A") {

            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_6").text(), centerX, centerY);            
            
            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.5) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Aula", x + width / 2, y + height / 2);
        } else if(q_6 == "T") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_6").text(), centerX, centerY);          

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.3) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Torn. 9", x + width / 2, y + height / 2);
        }
        
        // Box 7
        let q_7 = document.querySelector("#q_7").value;
        let cor_7 = selecionaCores(q_7);

        x = 185; // distância da esquerda do canvas
        y = 328; // distância do topo do canvas
        width = 50;
        height = 50;
        
        if(q_7 != '1') {
            height = height - 10;
        }

        // Desenha o retângulo azul
        ctx.fillStyle = cor_7;
        ctx.fillRect(x, y, width, height);
        
        // Desenha o ícone "check" manualmente
        ctx.strokeStyle = 'white';
        ctx.lineWidth = 5;
        ctx.lineCap = 'round';
        
        
        if(q_7 == "1") {  
            ctx.beginPath();
            // Começa no canto inferior esquerdo do check
            ctx.moveTo(x + width * 0.2, y + height * 0.55);
            // Vai para o meio inferior
            ctx.lineTo(x + width * 0.45, y + height * 0.8);
            // Vai para o topo direito do check
            ctx.lineTo(x + width * 0.8, y + height * 0.3);
            
            ctx.stroke();
        } else if(q_7 == "0") {
            
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_7").text(), centerX, centerY);            

            ctx.beginPath();
            // Linha diagonal da esquerda superior para direita inferior
            ctx.moveTo(x + width * 0.2, y + height * 0.2);
            ctx.lineTo(x + width * 0.8, y + height * 0.8);
            
            // Linha diagonal da direita superior para esquerda inferior
            ctx.moveTo(x + width * 0.8, y + height * 0.2);
            ctx.lineTo(x + width * 0.2, y + height * 0.8);
            
            ctx.stroke();
        } else if(q_7 == "R") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_7").text(), centerX, centerY);            

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.4) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Rank.", x + width / 2, y + height / 2);

        } else if(q_7 == "A") {

            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_7").text(), centerX, centerY);            
            
            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.5) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Aula", x + width / 2, y + height / 2);
        } else if(q_7 == "T") {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; // preto com 30% de opacidade
            ctx.fillRect(x - 20, y + 44, width + 40, height - 15);

            // Agora desenha o texto centralizado dentro dessa caixa
            ctx.fillStyle = "white"; // cor do texto
            ctx.font = "bold 16px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // Calcula o centro da caixa
            let centerX = (x - 20) + (width + 40) / 2;
            let centerY = (y + 44) + (height - 15) / 2;

            ctx.fillText($("#previsao_7").text(), centerX, centerY);          

            ctx.fillStyle = "#fff";
            ctx.font = "bold " + (height * 0.3) + "px Arial";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Torn. 9", x + width / 2, y + height / 2);
        }

        let x_8 = 5; // distância da esquerda do canvas
        let y_8 = 310; // distância do topo do canvas
        let width_8 = 110;
        let height_8 = 90;

        ctx.fillStyle = '#CCCCCC80';
        ctx.fillRect(x_8, y_8, width_8, height_8);

        // Obtem a data/hora atual
        const agora = new Date();

        const dia = String(agora.getDate()).padStart(2, '0');
        const mes = String(agora.getMonth() + 1).padStart(2, '0'); // mês começa em 0
        const hora = String(agora.getHours()).padStart(2, '0');
        const minuto = String(agora.getMinutes()).padStart(2, '0');
        const sec = String(agora.getSeconds()).padStart(2, '0');

        // Dados do canvas
        let canvasWidth = canvas.width;
        let canvasHeight = canvas.height;

        // Tamanho maior para caber o texto
        let blocoWidth = 160;
        let blocoHeight = 70;

        // Posição inferior direita
        let blocoX = canvasWidth - blocoWidth + 30;
        let blocoY = canvasHeight - blocoHeight - 20;

        // Formata
        const dataTexto = `${dia}/${mes}`;
        const horaTexto = `${hora}:${minuto}`;

        ctx.font = '20px Arial';     // define tamanho e fonte
        ctx.fillStyle = 'black';     // define cor do texto
        ctx.textAlign = 'left';      // alinhamento horizontal (left, center, right)
        ctx.textBaseline = 'top';    // alinhamento vertical (top, middle, bottom, alphabetic, etc.)
        ctx.fillText('DATA:', x_8 + 5, y_8 + 10);  // desenha o texto na posição (50,50)
        
        ctx.font = '20px Arial';     // define tamanho e fonte
        ctx.fillStyle = 'black';     // define cor do texto
        ctx.textAlign = 'left';      // alinhamento horizontal (left, center, right)
        ctx.textBaseline = 'top';    // alinhamento vertical (top, middle, bottom, alphabetic, etc.)
        ctx.fillText(dataTexto, x_8 + 5, y_8 + 30);  // desenha o texto na posição (50,50)
    
        ctx.font = '20px Arial';     // define tamanho e fonte
        ctx.fillStyle = 'black';     // define cor do texto
        ctx.textAlign = 'left';      // alinhamento horizontal (left, center, right)
        ctx.textBaseline = 'top';    // alinhamento vertical (top, middle, bottom, alphabetic, etc.)
        ctx.fillText(horaTexto, x_8 + 5, y_8 + 50);  // desenha o texto na posição (50,50)
        // Converte o conteúdo do canvas para URL de imagem
        const imageURL = canvas.toDataURL('image/png');
        
        // Cria um link temporário para download
        const link = document.createElement('a');
        link.href = imageURL;
        link.download = `situacao_quadra_${dataTexto}${horaTexto + sec}.png`; // nome do arquivo que será baixado
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }
}
    

  });
  </script>
</html>
